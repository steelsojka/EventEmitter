/**
 * EventEmitter v3.1.5
 * https://github.com/Wolfy87/EventEmitter
 *
 * Oliver Caldwell (http://oli.me.uk)
 * Creative Commons Attribution 3.0 Unported License (http://creativecommons.org/licenses/by/3.0/)
 *
 * Extended by Steven Sojka with EventRegistry.js an EventEmitter.js extension
 * https://github.com/steelsojka/EventRegistry
 */

(function(g){function a(){this._events={};this._maxListeners=10}function e(b,a,c,d,f){this.type=b;this.listener=a;this.scope=c;this.once=d;this.instance=f}e.prototype.fire=function(b){this.listener.apply(this.scope||this.instance,b);if(this.once)return this.instance.removeListener(this.type,this.listener,this.scope),!1};a.prototype.eachListener=function(b,a){var c=null,d=null,f=null;if(this._events.hasOwnProperty(b)){d=this._events[b];for(c=0;c<d.length;c+=1)if(f=a.call(this,d[c],c),!1===f)c-=1;else if(!0===
f)break}return this};a.prototype.addListener=function(b,a,c,d){this._events.hasOwnProperty(b)||(this._events[b]=[]);this._events[b].push(new e(b,a,c,d,this));this.emit("newListener",b,a,c,d);this._maxListeners&&(!this._events[b].warned&&this._events[b].length>this._maxListeners)&&("undefined"!==typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._events[b].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this._events[b].warned=!0);return this};
a.prototype.on=a.prototype.addListener;a.prototype.once=function(b,a,c){return this.addListener(b,a,c,!0)};a.prototype.removeListener=function(b,a,c){this.eachListener(b,function(d,f){d.listener===a&&(!c||d.scope===c)&&this._events[b].splice(f,1)});this._events[b]&&0===this._events[b].length&&delete this._events[b];return this};a.prototype.off=a.prototype.removeListener;a.prototype.removeAllListeners=function(b){b&&this._events.hasOwnProperty(b)?delete this._events[b]:b||(this._events={});return this};
a.prototype.listeners=function(b){if(this._events.hasOwnProperty(b)){var a=[];this.eachListener(b,function(b){a.push(b.listener)});return a}return[]};a.prototype.emit=function(b){for(var a=[],c=null,c=1;c<arguments.length;c+=1)a.push(arguments[c]);this.eachListener(b,function(b){return b.fire(a)});return this};a.prototype.setMaxListeners=function(b){this._maxListeners=b;return this};a.extend=function(){var b={},a=this.prototype,c=null;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};"function"===
typeof define&&define.amd&&define(function(){return a});g.EventEmitter=a})(this);
(function(g,a){var e;e="extend"in a?a.extend():d({},a.prototype);var b=e.addListener,i=e.removeListener;e.addListener=function(a,c,d,e){for(var a=a.split(" "),h=a.length-1;0<=h;h--)b.call(this,a[h],c,d,e)};e.removeListener=function(a,b,c){for(var a=a.split(" "),d=a.length-1;0<=d;d--)i.call(this,a[d],b,c)};e.on=e.addListener;e.off=e.removeListener;e.register=function(a){var b=this,d={on:function(a,c,d,e){d=d||this;b.on.call(b,a,c,d,e);return d},emit:function(){b.emit.apply(b,arguments);return this},
once:function(a,c,d){var e=d||this;b.once.call(b,a,c,d);return e},off:function(a,c,d){d=d||this;b.off.call(b,a,c,d);return d}};d.addListener=d.on;d.removeListener=d.off;if("[object Array]"===Object.prototype.toString.apply(a))for(var e=a.length-1;0<=e;e--)c(a[e],d);else c(a,d);return this};a.prototype=e;var c=function(a,b){"function"===typeof a?a.prototype=d(a.prototype,b):"object"===typeof a&&d(a,b)},d=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};"function"===typeof define&&
define.amd&&define(function(){return a});g.EventEmitter=a})(this,EventEmitter);