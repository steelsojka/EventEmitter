/**
 * EventEmitter v3.1.5
 * https://github.com/Wolfy87/EventEmitter
 *
 * Oliver Caldwell (http://oli.me.uk)
 * Creative Commons Attribution 3.0 Unported License (http://creativecommons.org/licenses/by/3.0/)
 *
 * Extended by Steven Sojka with EventRegistry.js a EventEmitter.js extension
 * https://github.com/steelsojka/EventRegistry
 */
(function(g){function a(){this._events={};this._maxListeners=10}function d(b,h,c,a,f){this.type=b;this.listener=h;this.scope=c;this.once=a;this.instance=f}d.prototype.fire=function(b){this.listener.apply(this.scope||this.instance,b);if(this.once)return this.instance.removeListener(this.type,this.listener,this.scope),!1};a.prototype.eachListener=function(b,a){var c=null,e=null,f=null;if(this._events.hasOwnProperty(b)){e=this._events[b];for(c=0;c<e.length;c+=1)if(f=a.call(this,e[c],c),!1===f)c-=1;else if(!0===
f)break}return this};a.prototype.addListener=function(b,a,c,e){this._events.hasOwnProperty(b)||(this._events[b]=[]);this._events[b].push(new d(b,a,c,e,this));this.emit("newListener",b,a,c,e);this._maxListeners&&(!this._events[b].warned&&this._events[b].length>this._maxListeners)&&("undefined"!==typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._events[b].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this._events[b].warned=!0);return this};
a.prototype.on=a.prototype.addListener;a.prototype.once=function(b,a,c){return this.addListener(b,a,c,!0)};a.prototype.removeListener=function(b,a,c){this.eachListener(b,function(e,f){e.listener===a&&(!c||e.scope===c)&&this._events[b].splice(f,1)});this._events[b]&&0===this._events[b].length&&delete this._events[b];return this};a.prototype.off=a.prototype.removeListener;a.prototype.removeAllListeners=function(b){b&&this._events.hasOwnProperty(b)?delete this._events[b]:b||(this._events={});return this};
a.prototype.listeners=function(b){if(this._events.hasOwnProperty(b)){var a=[];this.eachListener(b,function(b){a.push(b.listener)});return a}return[]};a.prototype.emit=function(b){for(var a=[],c=null,c=1;c<arguments.length;c+=1)a.push(arguments[c]);this.eachListener(b,function(b){return b.fire(a)});return this};a.prototype.setMaxListeners=function(b){this._maxListeners=b;return this};a.extend=function(){var b={},a=this.prototype,c=null;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};"function"===
typeof define&&define.amd&&define(function(){return a});g.EventEmitter=a})(this);
(function(g,a){var d;d="extend"in a?a.extend():e({},a.prototype);var b=d.addListener,h=d.removeListener;d.addListener=function(a,c,d,e){for(var a=a.split(" "),i=a.length-1;0<=i;i--)b.call(this,a[i],c,d,e)};d.removeListener=function(a,b,c){for(var a=a.split(" "),d=a.length-1;0<=d;d--)h.call(this,a[d],b,c)};d.on=d.addListener;d.off=d.removeListener;d.register=function(a){var b=this,d={on:function(a,c,d,e){b.on.call(b,a,c,d||this,e)},emit:function(){b.emit.apply(b,arguments)},once:function(a,c,d){b.once.call(b,
a,c,d)},off:function(a,c,d){b.off.call(b,a,c,d||this)}};d.addListener=d.on;d.removeListener=d.off;if("[object Array]"===Object.prototype.toString.apply(a))for(var e=a.length-1;0<=e;e--)c(a[e],d);else c(a,d);return this};a.prototype=d;var c=function(a,b){"function"===typeof a?a.prototype=e(a.prototype,b):"object"===typeof a&&e(a,b)},e=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};g.EventEmitter=a})(this,EventEmitter);