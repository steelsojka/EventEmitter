/**
 * EventEmitter v3.1.5
 * https://github.com/Wolfy87/EventEmitter
 *
 * Oliver Caldwell (http://oli.me.uk)
 * Creative Commons Attribution 3.0 Unported License (http://creativecommons.org/licenses/by/3.0/)
 *
 * Extended by Steven Sojka with EventRegistry.js a EventEmitter.js extension
 * https://github.com/steelsojka/EventRegistry
 */
(function(h){function a(){this._events={};this._maxListeners=10}function g(b,e,c,f,a){this.type=b;this.listener=e;this.scope=c;this.once=f;this.instance=a}g.prototype.fire=function(b){this.listener.apply(this.scope||this.instance,b);if(this.once)return this.instance.removeListener(this.type,this.listener,this.scope),!1};a.prototype.eachListener=function(b,e){var c=null,f=null,a=null;if(this._events.hasOwnProperty(b)){f=this._events[b];for(c=0;c<f.length;c+=1)if(a=e.call(this,f[c],c),!1===a)c-=1;else if(!0===
a)break}return this};a.prototype.addListener=function(b,a,c,f){this._events.hasOwnProperty(b)||(this._events[b]=[]);this._events[b].push(new g(b,a,c,f,this));this.emit("newListener",b,a,c,f);this._maxListeners&&(!this._events[b].warned&&this._events[b].length>this._maxListeners)&&("undefined"!==typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._events[b].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this._events[b].warned=!0);return this};
a.prototype.on=a.prototype.addListener;a.prototype.once=function(b,a,c){return this.addListener(b,a,c,!0)};a.prototype.removeListener=function(b,a,c){this.eachListener(b,function(f,d){f.listener===a&&(!c||f.scope===c)&&this._events[b].splice(d,1)});this._events[b]&&0===this._events[b].length&&delete this._events[b];return this};a.prototype.off=a.prototype.removeListener;a.prototype.removeAllListeners=function(b){b&&this._events.hasOwnProperty(b)?delete this._events[b]:b||(this._events={});return this};
a.prototype.listeners=function(b){if(this._events.hasOwnProperty(b)){var a=[];this.eachListener(b,function(c){a.push(c.listener)});return a}return[]};a.prototype.emit=function(b){for(var a=[],c=null,c=1;c<arguments.length;c+=1)a.push(arguments[c]);this.eachListener(b,function(c){return c.fire(a)});return this};a.prototype.setMaxListeners=function(b){this._maxListeners=b;return this};a.extend=function(){var b={},a=this.prototype,c=null;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};"function"===
typeof define&&define.amd&&define(function(){return a});h.EventEmitter=a})(this);
(function(h,a){var g;g="extend"in a?a.extend():e({},a.prototype);g.register=function(c){var a=this,d={on:function(c,b,d,e){a.on.call(a,c,b,d||this,e)},emit:function(){a.emit.apply(a,arguments)},once:function(c,b,d){a.once.call(a,c,b,d)},off:function(c,b,d){a.off.call(a,c,b,d||this)}};d.addListener=d.on;d.removeListener=d.off;if("[object Array]"===Object.prototype.toString.apply(c))for(var e=c.length-1;0<=e;e--)b(c[e],d);else b(c,d);return this};a.prototype=g;var b=function(a,b){"function"===typeof a?
a.prototype=e(a.prototype,b):"object"===typeof a&&e(a,b)},e=function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a};h.EventEmitter=a})(this,EventEmitter);